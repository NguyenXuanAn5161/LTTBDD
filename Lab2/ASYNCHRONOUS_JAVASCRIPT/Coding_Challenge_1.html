<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
    <script>

        //ajax
        whereAmI = (lat, lng) => {
            const urlBacon = `https://geocode.xyz/${lat},${lng}?geoit=json`;
            $.ajax({
                method: "GET",
                url: urlBacon,
                dataType: "json"
            })
                .done(function (data) {
                    console.log(`You are in ${data.city}, ${data.country}`);
                })
                .fail(function () {
                    throw new Error(`Error (${response.status}): Too many requests. Please try again later.`);
                    console.error(error.message)
                });
        };

        whereAmI(52.508, 13.381); // Example 1

        //fetch

        // whereAmI = () => {
        //     fetch(`https://geocode.xyz/52.508,13.381?geoit=json`)
        //         .then(response => {
        //             if (!response.ok) {
        //                 throw new Error(`Error (${response.status}): Too many requests. Please try again later.`);
        //             }
        //             return response.json();
        //         })
        //         .then(data => {
        //             console.log(`You are in ${data.city}, ${data.country}`);
        //         })
        //         .catch(error => console.error(error.message));
        // };

        // function whereAmI(lat, lng) {
        //     fetch(`https://geocode.xyz/${lat},${lng}?geoit=json`)
        //         .then(response => {
        //             if (!response.ok) {
        //                 throw new Error(`Error (${response.status}): Too many requests. Please try again later.`);
        //             }
        //             return response.json();
        //         })
        //         .then(data => {
        //             console.log(`You are in ${data.city}, ${data.country}`);

        //             // Part 2: Render the country using the countries API
        //             // return fetch(`https://restcountries.com/v3.1/name/${data.country}`)
        //         })
        //         // .then(response => {
        //         //     if (!response.ok) {
        //         //         throw new Error(`Error (${response.status}): Unable to fetch country data.`);
        //         //     }
        //         //     return response.json();
        //         // })
        //         // .then(countryData => {
        //         //     console.log(`Country: ${countryData[0].name.common}`);
        //         // })
        //         .catch(error => console.error(error.message));
        // }

        // Test data
        // whereAmI(52.508, 13.381); // Example 1
        // whereAmI(19.037, 72.873); // Example 2
        // whereAmI(-33.933, 18.474); // Example 3



    </script>
</body>

</html>